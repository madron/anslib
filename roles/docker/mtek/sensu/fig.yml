data:
  image: busybox
  volumes:
    - /data
  hostname: data

redis:
  image: redis:2.8
  command: redis-server --appendonly yes
  volumes_from:
    - data
  ports:
    - "6379:6379"
  hostname: redis

rabbitmq:
  build: rabbitmq
  ports:
    - "5672:5672"
    - "15672:15672"
  hostname: rabbitmq

api:
  build: api
  links:
    - rabbitmq
    - redis
  hostname: api

server:
  build: server
  links:
    - rabbitmq
    - redis
  hostname: server

uchiwa:
  build: uchiwa
  links:
    - api
  ports:
    - "80:3000"
  hostname: uchiwa

client:
  build: client
  links:
    - rabbitmq
  hostname: client
