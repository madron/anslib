# {{ ansible_managed }}

[uwsgi]

protocol = uwsgi
socket = /tmp/uwsgi-{{ site_slug }}.sock
stats = /tmp/uwsgi-{{ site_slug }}-stats.sock
venv = {{ site_user_base|default('/var/www') }}/{{ site_slug }}/env
chdir = /var/www/{{ site_slug }}/website
{% for path in site_python_path|default([]) %}
pythonpath = {{ path }}
{% else %}
pythonpath = {{ site_user_base|default('/var/www') }}/{{ site_slug }}/src
{% endfor %}
env = DJANGO_SETTINGS_MODULE=website.settings
module = django.core.handlers.wsgi:WSGIHandler()
logto = /var/www/{{ site_slug }}/log/uwsgi/access.log
# log-maxsize = 1048576
# log-maxsize = 500
touch-reload = /var/www/{{ site_slug }}/conf/touch-to-reload
workers = 2
